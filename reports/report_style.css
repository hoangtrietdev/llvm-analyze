/* Unified Report Theme */
:root {
  --bg: #0f1115;
  --bg-alt: #161b22;
  --panel: #1c232b;
  --panel-alt: #25303b;
  --text: #e2e8f0;
  --text-soft: #94a3b8;
  --accent: #3b82f6;
  --accent-alt: #60a5fa;
  --ok: #22c55e;
  --warn: #fbbf24;
  --bad: #f87171;
  --neutral: #64748b;
  --radius: 8px;
  --font-stack: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --code-bg: #0b0e13;
  --code-border: #233041;
}

html { scroll-behavior: smooth; }
body {
  font-family: var(--font-stack);
  background: var(--bg);
  color: var(--text);
  margin: 2rem auto;
  max-width: 1180px;
  line-height: 1.55;
  padding: 0 1.5rem 4rem;
}

h1,h2,h3,h4 { font-weight:600; line-height:1.25; }

h1 { font-size: 2.1rem; margin-top: 0; background: linear-gradient(90deg,var(--accent),var(--accent-alt)); -webkit-background-clip: text; background-clip: text; color: transparent; }

h2 { margin-top:3rem; font-size:1.35rem; position:relative; }

h2::after { content:""; position:absolute; left:0; bottom:-6px; width:52px; height:3px; background:var(--accent); border-radius:2px; }

h3 { margin-top:2rem; font-size:1.05rem; color: var(--accent-alt); }

p { margin: 0.85rem 0; }

a { color: var(--accent-alt); text-decoration:none; }
a:hover { text-decoration:underline; }

code, pre { font-family: var(--mono); }
code { background: var(--code-bg); border:1px solid var(--code-border); padding:2px 6px; border-radius:4px; font-size:0.85rem; }
pre { background: var(--code-bg); border:1px solid var(--code-border); padding:1rem 1rem; border-radius: var(--radius); overflow-x:auto; font-size:0.8rem; }
pre code { background: none; border:none; padding:0; }

.table-wrapper { background: var(--panel); border:1px solid #2c3947; border-radius: var(--radius); padding:0.75rem 1rem 1.25rem; margin:1.25rem 0 2rem; box-shadow:0 4px 14px -6px #000; }

.table-wrapper h3 { margin-top:0.25rem; }

.table-wrapper table { width:100%; border-collapse: collapse; font-size:0.78rem; }
.table-wrapper th, .table-wrapper td { padding:8px 10px; border:1px solid #2c3947; text-align:left; }
.table-wrapper th { background: var(--panel-alt); font-weight:600; letter-spacing:.5px; font-size:0.67rem; text-transform:uppercase; color: var(--text-soft); }
.table-wrapper tbody tr:nth-child(odd) { background: #1a222b; }
.table-wrapper tbody tr:hover { background: #223041; }

.badge { display:inline-block; font-size:0.62rem; padding:4px 8px; letter-spacing:.5px; font-weight:600; border-radius: 14px; text-transform:uppercase; background: var(--neutral); color:#fff; }
.badge.ok { background: var(--ok); }
.badge.warn { background: var(--warn); color:#422006; }
.badge.bad { background: var(--bad); }
.badge.info { background: var(--accent-alt); }

.flex { display:flex; gap:1rem; flex-wrap:wrap; }
.panel { background: linear-gradient(145deg,var(--panel),var(--panel-alt)); padding:1rem 1.1rem 1.2rem; border:1px solid #2c3947; border-radius: var(--radius); box-shadow:0 6px 22px -10px #000; flex:1 1 260px; min-width:240px; position:relative; }
.panel h3 { margin-top:0; font-size:0.95rem; letter-spacing:.5px; text-transform:uppercase; color: var(--text-soft); }
.panel p { font-size:0.75rem; color: var(--text-soft); }

blockquote { background: var(--panel); border-left:4px solid var(--accent); margin:1.5rem 0; padding:0.75rem 1rem; border-radius: var(--radius); font-size:0.85rem; color: var(--text-soft); }

.flowchart { background:var(--panel); padding:1rem; border:1px solid #2c3947; font-family:var(--mono); white-space:pre; overflow-x:auto; border-radius: var(--radius); font-size:11.5px; line-height:1.3; }

.metric-bar { position:relative; height:8px; background:#1d2732; border-radius:4px; overflow:hidden; margin-top:6px; }
.metric-bar span { position:absolute; top:0; left:0; height:100%; background:var(--accent); }

.grid { display:grid; gap:1rem; }
.grid.cols-3 { grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); }

.inline-kv { display:inline-flex; gap:4px; align-items:center; background:var(--panel); padding:2px 8px; border-radius:20px; font-size:0.65rem; border:1px solid #2c3947; }

.legend { display:flex; gap:.75rem; flex-wrap:wrap; font-size:0.6rem; margin:0.5rem 0 1.1rem; }
.legend span { background:var(--panel-alt); padding:4px 8px; border-radius:999px; border:1px solid #2c3947; }

.footer-note { margin-top:4rem; font-size:0.65rem; color: var(--text-soft); text-align:center; opacity:.7; }

.trust-box { background: linear-gradient(135deg,#1d2935,#273546); border:1px solid #314352; padding:1rem 1.15rem 1.1rem; border-radius: var(--radius); margin:1.5rem 0 2rem; position:relative; box-shadow:0 8px 30px -18px #000; }
.trust-box h3 { margin:0 0 .6rem; font-size:.95rem; letter-spacing:.5px; color: var(--accent-alt); }
.trust-box ul { margin:0; padding-left:1.15rem; font-size:0.72rem; line-height:1.4; }
.trust-box li { margin:0.35rem 0; }

.formula { background: #111a22; padding:0.85rem 1rem; border:1px solid #223140; border-radius: var(--radius); font-family: var(--mono); font-size:0.7rem; line-height:1.35; }

.callout { background:#17202a; border:1px solid #253241; padding:0.75rem 0.9rem; border-radius: var(--radius); font-size:0.7rem; margin:1rem 0 1.25rem; }
.callout strong { color: var(--accent-alt); }

.checklist { display:grid; gap:0.6rem; grid-template-columns:repeat(auto-fill,minmax(230px,1fr)); margin:1.2rem 0 1.6rem; }
.checklist .item { background:var(--panel); border:1px solid #2c3947; border-radius: var(--radius); padding:0.6rem 0.7rem 0.75rem; font-size:0.65rem; line-height:1.35; position:relative; }
.checklist .item:before { content:"âœ”"; position:absolute; top:6px; right:8px; font-size:0.7rem; color: var(--ok); }

.chart-container { background:var(--panel); border:1px solid #2c3947; padding:1rem; border-radius: var(--radius); margin:1.25rem auto 2rem; }

.small-note { font-size:0.6rem; text-transform:uppercase; letter-spacing:.5px; opacity:.75; }

hr { border:none; border-top:1px solid #253241; margin:3rem 0 2.5rem; }

.badge-ring { display:inline-flex; gap:6px; flex-wrap:wrap; }
.badge-ring .badge { font-size:0.55rem; opacity:.85; }

/* Cross-report navigation */
.report-nav { display:flex; flex-wrap:wrap; gap:.65rem; margin:1rem 0 2rem; background:var(--panel); padding:.6rem .8rem .75rem; border:1px solid #2c3947; border-radius: var(--radius); font-size:0.62rem; }
.report-nav a { background:#1e2833; padding:6px 10px; border-radius:20px; border:1px solid #2c3947; font-weight:600; letter-spacing:.5px; text-transform:uppercase; font-size:0.6rem; color:var(--accent-alt); text-decoration:none; }
.report-nav a:hover { background:#243240; text-decoration:none; }
.report-nav .primary { background:var(--accent); color:#fff; border-color:var(--accent-alt); }
.report-nav .primary:hover { background:var(--accent-alt); }

/* AI Prompting Section Styles */
.ai-prompt-box {
  background: linear-gradient(135deg, #1a2332, #1f2d3d);
  border: 2px solid #3b82f6;
  border-left: 6px solid #3b82f6;
  padding: 1.2rem 1.5rem;
  border-radius: var(--radius);
  margin: 1.5rem 0 2rem;
  box-shadow: 0 8px 24px -10px rgba(59, 130, 246, 0.3);
}

.ai-prompt-box pre {
  background: #0d1520;
  border: 1px solid #2d4356;
  padding: 1.2rem;
  border-radius: 6px;
  color: #e2e8f0;
  font-size: 0.82rem;
  line-height: 1.6;
  overflow-x: auto;
  margin: 0.5rem 0 1rem;
}

.ai-prompt-box code {
  background: #162031;
  border: 1px solid #2d4356;
  color: #60a5fa;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 0.85rem;
}

.ai-example-success {
  background: linear-gradient(135deg, #0f2315, #14291c);
  border-left: 6px solid #22c55e;
  border: 2px solid #22c55e;
  padding: 1.2rem 1.5rem;
  border-radius: var(--radius);
  margin: 1.5rem 0 2rem;
  box-shadow: 0 8px 24px -10px rgba(34, 197, 94, 0.3);
}

.ai-example-success pre {
  background: #0a1812;
  border: 1px solid #1e4d2b;
  color: #d1fae5;
  padding: 1.2rem;
  border-radius: 6px;
  font-size: 0.82rem;
  line-height: 1.65;
  overflow-x: auto;
  margin: 0.5rem 0 1rem;
}

.ai-example-success strong {
  color: #4ade80;
  font-weight: 700;
}

.ai-example-error {
  background: linear-gradient(135deg, #2a1515, #341a1a);
  border-left: 6px solid #ef4444;
  border: 2px solid #ef4444;
  padding: 1.2rem 1.5rem;
  border-radius: var(--radius);
  margin: 1.5rem 0 2rem;
  box-shadow: 0 8px 24px -10px rgba(239, 68, 68, 0.3);
}

.ai-example-error pre {
  background: #1a0d0d;
  border: 1px solid #4d1e1e;
  color: #fecaca;
  padding: 1.2rem;
  border-radius: 6px;
  font-size: 0.82rem;
  line-height: 1.65;
  overflow-x: auto;
  margin: 0.5rem 0 1rem;
}

.ai-example-error strong {
  color: #f87171;
  font-weight: 700;
}

.ai-calculation-box {
  background: linear-gradient(135deg, #2a2310, #342d15);
  border: 2px solid #fbbf24;
  border-left: 6px solid #fbbf24;
  padding: 1.2rem 1.5rem;
  border-radius: var(--radius);
  margin: 1.5rem 0 2rem;
  box-shadow: 0 8px 24px -10px rgba(251, 191, 36, 0.3);
}

.ai-calculation-box ol {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
  font-size: 0.85rem;
  line-height: 1.8;
  color: #fef3c7;
}

.ai-calculation-box ul {
  margin: 0.3rem 0;
  padding-left: 1.2rem;
  font-size: 0.78rem;
  line-height: 1.6;
  color: #fde68a;
}

.ai-calculation-box pre {
  background: #1a1508;
  border: 1px solid #4d4020;
  color: #fef3c7;
  padding: 1rem;
  border-radius: 6px;
  font-size: 0.8rem;
  line-height: 1.5;
  margin: 0.8rem 0;
}

.ai-calculation-box strong {
  color: #fbbf24;
  font-weight: 700;
}

/* Enhanced table for AI section */
.ai-analysis-table {
  background: var(--panel);
  border: 1px solid #3b4958;
  border-radius: var(--radius);
  padding: 0.75rem 1rem 1.25rem;
  margin: 1.25rem 0 2rem;
  box-shadow: 0 4px 20px -6px rgba(0, 0, 0, 0.5);
}

.ai-analysis-table table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
}

.ai-analysis-table th,
.ai-analysis-table td {
  padding: 10px 12px;
  border: 1px solid #3b4958;
  text-align: left;
  color: #e2e8f0;
}

.ai-analysis-table th {
  background: linear-gradient(135deg, #1f2937, #2d3748);
  font-weight: 700;
  letter-spacing: 0.5px;
  font-size: 0.72rem;
  text-transform: uppercase;
  color: #60a5fa;
  border-bottom: 2px solid #3b82f6;
}

.ai-analysis-table tbody tr:nth-child(odd) {
  background: #1a2332;
}

.ai-analysis-table tbody tr:hover {
  background: #243447;
  transition: background 0.2s ease;
}

.ai-analysis-table code {
  background: #0d1520;
  border: 1px solid #2d4356;
  color: #60a5fa;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.8rem;
}

/* Highlight key formulas */
.formula-highlight {
  background: linear-gradient(135deg, #1e3a5f, #2d4a6f);
  border: 2px solid #3b82f6;
  padding: 1rem 1.2rem;
  border-radius: var(--radius);
  font-family: var(--mono);
  font-size: 0.85rem;
  line-height: 1.5;
  margin: 1rem 0 1.5rem;
  color: #bfdbfe;
  box-shadow: 0 6px 20px -8px rgba(59, 130, 246, 0.4);
}

.formula-highlight strong {
  color: #60a5fa;
  font-weight: 700;
}

/* Print adjustments */
@media print {
  body { background:#fff; color:#000; }
  .panel,.trust-box,.callout,.flowchart,.table-wrapper,blockquote,pre { break-inside:avoid; box-shadow:none; }
  h1 { -webkit-background-clip: unset; background-clip: unset; color:#000; }
  a { color:#000; }
}
